<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Canvas</title>
<style>
  * {margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif;}
  html, body {height:100%; overflow:hidden;}
  #bgContainer {min-height:100vh; background-size:cover; background-position:center; transition: background 0.5s;}

  /* Top Bar */
  #topbar {
    display:flex; justify-content:space-between; align-items:center;
    padding:10px 20px; position:fixed; top:0; left:0; width:100%;
    z-index:1000; background:transparent;
  }
  #topbar .buttons-gray {
    background: #888; padding:10px; display:flex; align-items:center; gap:10px;
    border-radius:0 25px 25px 0;
  }
  #topbar .buttons img { width:50px; height:50px; cursor:pointer; transition: transform 0.2s; }
  #topbar .buttons img:hover { transform: scale(1.1); }
  #topbar .logo img { height:100px; }

  /* Pages */
  .page { display:none; }
  .page.active { display:block; }

  /* Scrollable containers */
  .game-container, .search-container { padding-top:120px; max-height:calc(100vh - 10px); overflow-y:auto; width:100%; }

  /* Game Grid */
  .game-grid {
    display:grid; grid-template-columns:repeat(5,1fr); gap:40px; padding:20px;
  }
  @media (max-width:1200px){.game-grid{grid-template-columns:repeat(4,1fr);}}
  @media (max-width:900px){.game-grid{grid-template-columns:repeat(3,1fr);}}
  @media (max-width:600px){.game-grid{grid-template-columns:repeat(2,1fr);}}
  @media (max-width:400px){.game-grid{grid-template-columns:1fr;}}
  .game-card { position:relative; width:100%; padding-top:100%; overflow:hidden; cursor:pointer; border-radius:10px; }
  .game-card img { position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover; transition: transform 0.3s; }
  .game-card:hover img { transform: scale(1.05); }
  .game-overlay {
    position:absolute; top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.5); color:#fff;
    display:flex; justify-content:space-between; align-items:flex-start; flex-direction:column; padding:10px;
    opacity:0; transition: opacity 0.3s;
  }
  .game-card:hover .game-overlay { opacity:1; }
  .game-overlay .name { font-weight:bold; }
  .game-overlay .star { font-size:24px; cursor:pointer; }

  /* Home Page Buttons (4 per row) */
  #homePage .home-grid {
    display:grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
    padding: 140px 20px 20px; /* adds space under top bar */
    justify-items: center;
    align-items: start;
  }
  @media (max-width: 900px) { #homePage .home-grid { grid-template-columns: repeat(2, 1fr); } }
  @media (max-width: 500px) { #homePage .home-grid { grid-template-columns: 1fr; } }
  .home-button {
    display:flex; justify-content:center; align-items:center;
    flex-direction:column; background:rgba(255,255,255,0.2);
    padding:20px; border-radius:10px; cursor:pointer;
    transition: transform 0.2s, background 0.3s;
    text-align:center;
    width:100%;
    max-width:180px;
  }
  .home-button:hover { transform: scale(1.05); background:rgba(255,255,255,0.4); }
  .home-button img { width:50px; height:50px; margin-bottom:5px; }

  /* Search Page */
  #searchBox { display:flex; flex-direction:column; max-width:500px; margin: 80px auto 20px auto; text-align:center; }
  #searchBox input { padding:10px; font-size:16px; border-radius:5px; border:2px solid orange; outline:none; width:100%; box-sizing:border-box; }
  #searchResults {
    display:grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap:15px; margin-top:10px; max-height:400px; overflow-y:auto; padding:10px; background:rgba(0,0,0,0.3); border-radius:8px;
  }

  /* Recent and Favorite Game Grids (smaller, 5 per row max, squares) */
  #recentGames, #favoriteGames {
    display:grid; 
    grid-template-columns: repeat(5, 1fr); 
    gap:10px; 
    margin-top:10px; 
    padding:10px; 
    background:rgba(0,0,0,0.3); 
    border-radius:8px; 
    max-height:300px; 
    overflow-x:auto; 
    overflow-y:hidden;
    grid-auto-flow: column; /* horizontal scroll if more than 5 */
  }
  #recentGames .game-card, #favoriteGames .game-card {
    aspect-ratio: 1 / 1;   /* ensures perfect square */
    width: 100%;
    max-width:120px;        /* still limits size */
    padding-top:0;           /* remove previous padding-top */
  }
  @media (max-width:1200px){ #recentGames, #favoriteGames { grid-template-columns: repeat(4, 1fr); } }
  @media (max-width:900px){ #recentGames, #favoriteGames { grid-template-columns: repeat(3, 1fr); } }
  @media (max-width:600px){ #recentGames, #favoriteGames { grid-template-columns: repeat(2, 1fr); } }
  @media (max-width:400px){ #recentGames, #favoriteGames { grid-template-columns: 1fr; } }

  #recentGamesTitle, #favoriteGamesTitle { margin:20px 0 5px 0; color:#fff; font-weight:bold; font-size:18px; text-align:center; }
</style>
</head>
<body>
<div id="bgContainer">

  <!-- Top Bar -->
  <div id="topbar">
    <div class="buttons-gray">
      <div class="buttons">
        <img src="https://savnaclive.github.io/savnac/images/game.png" alt="Game" id="gameBtn">
        <img src="https://savnaclive.github.io/savnac/images/home.png" alt="Home" id="homeBtn">
        <img src="https://savnaclive.github.io/savnac/images/search.png" alt="Search" id="searchBtn">
      </div>
    </div>
    <div class="logo"><img src="https://savnaclive.github.io/savnac/images/logo.png" alt="Logo"></div>
  </div>

  <!-- Game Page -->
  <div class="page active" id="gamePage">
    <div class="game-container">
      <div class="game-grid" id="gameGrid"></div>
    </div>
  </div>

  <!-- Home Page -->
  <div class="page" id="homePage">
    <div class="home-grid" id="homeGrid">
      <div class="home-button" id="themeToggle">
        <img src="https://via.placeholder.com/50?text=‚òÄÔ∏è/üåô" alt="Theme">
        <span>Toggle Light/Dark</span>
      </div>
      <div class="home-button">
        <img src="https://via.placeholder.com/50" alt="Placeholder">
        <span>Button 2</span>
      </div>
      <div class="home-button">
        <img src="https://via.placeholder.com/50" alt="Placeholder">
        <span>Button 3</span>
      </div>
      <div class="home-button">
        <img src="https://via.placeholder.com/50" alt="Placeholder">
        <span>Button 4</span>
      </div>
      <div class="home-button">
        <img src="https://via.placeholder.com/50" alt="Placeholder">
        <span>Button 5</span>
      </div>
      <div class="home-button">
        <img src="https://via.placeholder.com/50" alt="Placeholder">
        <span>Button 6</span>
      </div>
    </div>
  </div>

  <!-- Search Page -->
  <div class="page" id="searchPage">
    <div class="search-container">
      <div id="searchBox">
        <input type="text" id="searchInput" placeholder="Search games...">
        <div id="searchResults"></div>
      </div>
      <div id="recentGamesTitle">üïò Recent Games</div>
      <div id="recentGames"></div>
      <div id="favoriteGamesTitle">‚≠ê Favorite Games</div>
      <div id="favoriteGames"></div>
    </div>
  </div>

</div>

<script>
// Theme
const body = document.body;
const bgContainer = document.getElementById('bgContainer');
function setBackground(theme){
  if(theme==='light'){
    bgContainer.style.background="url('https://savnaclive.github.io/savnac/images/background/bg2.jpg') center/cover no-repeat";
    body.style.color="#000";
  } else {
    bgContainer.style.background="url('https://savnaclive.github.io/savnac/images/background/bg1.jpg') center/cover no-repeat";
    body.style.color="#fff";
  }
}
function toggleTheme(){
  if(body.classList.contains('light')){
    body.classList.replace('light','dark'); setBackground('dark'); localStorage.setItem('theme','dark');
  } else {
    body.classList.replace('dark','light'); setBackground('light'); localStorage.setItem('theme','light');
  }
}
const storedTheme = localStorage.getItem('theme') || 'light';
body.classList.add(storedTheme); setBackground(storedTheme);
document.getElementById('themeToggle').addEventListener('click', toggleTheme);

// Pages
const pages = { game: document.getElementById('gamePage'), home: document.getElementById('homePage'), search: document.getElementById('searchPage') };
document.getElementById('gameBtn').addEventListener('click',()=>showPage('game'));
document.getElementById('homeBtn').addEventListener('click',()=>showPage('home'));
document.getElementById('searchBtn').addEventListener('click',()=>showPage('search'));
function showPage(page){ for(let p in pages){ pages[p].classList.remove('active'); } pages[page].classList.add('active'); }

// Games Data
const games = [
  {name:"1v1.lol", url:"1v1lol.html", img:"https://img.utdstc.com/icon/983/22a/98322a3b2be892eed31589906ffd949b68bcccc9a21ba562987965b5ec6bc6de:200"},
  {name:"2048", url:"2048.html", img:"https://is1-ssl.mzstatic.com/image/thumb/Purple211/v4/95/8e/c3/958ec36e-06b1-0897-53b3-c968234bf47f/AppIcon-0-0-1x_U007emarketing-0-6-85-220.png/512x512bb.jpg"},
  {name:"A Small World Cup", url:"aswc.html", img:"https://play-lh.googleusercontent.com/R47kNu-wEYMVnoo7rFOXiAHoBvW26KHps65Oi0S6zMF722x0LYqHJUiXRvB_xhsj0CM"},
  {name:"Amazing Strange Rope Police", url:"asrp.html", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSZDCGdZc8f2TLbgcv4aULu8Gf4_D3qwe6eiPo8mDGxn3jL3GpWzsquaflVA800tU2hl5I"},
  {name:"Among Us", url:"amongus.html", img:"https://images.sftcdn.net/images/t_app-icon-m/p/d10217b5-1ae1-44dd-a82c-6e2d60d086d6/3969265935/among-us-Download-Among-Us.jpg"},
  {name:"Bacon May Die", url:"baconmaydie.html", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRlgNyBQroC5JSJh1gOrStxprpzi0u95828vA&s"},
  {name:"Basket Random", url:"basketrandom.html", img:"https://geometrydash2.com/data/image/basket-random.jpg"},
  {name:"Bit Planes", url:"bitplanes.html", img:"https://images.rocketgames.io/uploads/games/b/bit-planes/bit-planes.16800f.jpg"},
  {name:"Bitlife", url:"bitlife.html", img:"https://play-lh.googleusercontent.com/fUM-UyywXxjC8soxAZdIlxJrlRRXmql8wkE426SHzft4lJycSKVd2jCYQQX1BEG9Xw"},
  {name:"Block Blast", url:"blockblast.html", img:"https://camo.githubusercontent.com/fed5c30c2eaffc5f8ad4d5198cc3da233226d58502ac973784459ad42bd10af1/68747470733a2f2f626c6f636b626c6173742e6465762f66617669636f6e2e706e67"},
  {name:"Bloons TD", url:"bloonstd.html", img:"https://play-lh.googleusercontent.com/4te8y2It_nyY4yX5jcSEFaTDro98302l9EnSbkJyCobGUo8GWxteV_8kJ8nlXyStxw"},
  {name:"Clicker Hero", url:"clickerhero.html", img:"https://play-lh.googleusercontent.com/XqysWlDWj5nBr0zZMtB08Bt4pe3MsE8XXOAgqZYiD1s65phAUWUcLIBLxdiAkfjfIsM"},
  {name:"Cluster Rush", url:"clusterrush.html", img:"https://clusterrushonline.github.io/img/cluster-rush.png"},
  {name:"Cookie Clicker", url:"cookieclicker.html", img:"https://super142.wordpress.com/wp-content/uploads/2022/07/cookie-clicker.jpg?w=640"},
  {name:"Crossyroad", url:"crossyroad.html", img:"https://downloadr2.apkmirror.com/wp-content/uploads/2025/06/65/683f96bad3438_com.yodo1.crossyroad.png"},
  {name:"Cut the Rope", url:"cuttherope.html", img:"https://play-lh.googleusercontent.com/Yphk2XnpBkSPIlZcbcmeTULeIajjCU-8Iduzq8j7zyp9HPijyZaT5ZeqgbYkOoQKSljs"},
  {name:"Death Run", url:"deathrun.html", img:"https://play-lh.googleusercontent.com/dEu4Lrs5Ke5ZHDMedRkjjtYq1G22gGccxeIU_ZJNqqwLeSYshuUxBU0KCrSG7lEEwBo"},
  {name:"Drive Mad", url:"drivemad.html", img:"https://play-lh.googleusercontent.com/V_egAxch0phxs10H_Z1QpWRrsH4phd8egT_5ZjYlFbXzXvwpUGpmJMn2h6HgbGkSlZSM"},
  {name:"Drift Boss", url:"driftboss.html", img:"https://m.media-amazon.com/images/I/71Rvyj1gI1L.png"},
  {name:"Duck Life", url:"ducklife.html", img:"https://play-lh.googleusercontent.com/JQqSn7wuCj0SxBqpBThNI33qCR9gwY0str2TIAnu-m_xrVCgZk3IPxYK2S7zC9WG0ig"},
  {name:"Five Night's at Freddy's", url:"fnaf.html", img:"https://dorukyum.github.io/FNAF-Web/static/media/freddy.a3eb8395.png"},
  {name:"Football Bros.", url:"footballbros.html", img:"https://avatars.githubusercontent.com/u/231598366?v=4"},
  {name:"Geometry Dash", url:"geometrydash.html", img:"https://assets-prd.ignimgs.com/2021/12/14/geometrydash-1639510868467.jpg"},
  {name:"Get Away Shootout", url:"getawayshootout.html", img:"https://play-lh.googleusercontent.com/xbB3QLgeuMh5clpSpMLRAPJ80WV77jifWu1iz-quwQwN7kp5WCzvrLiM-Up6au20OTI"},
  {name:"Granny", url:"granny.html", img:"https://play-lh.googleusercontent.com/yT_LBq_tyKeIDohKDsqN_Qt18jGIPUYIxY2C-1-E2YA9Qd60uZW08pua17qBmIiDPA=w240-h480-rw"},
  {name:"Gladihoppers", url:"gladihopper.html", img:"https://play-lh.googleusercontent.com/HUuFbIPERNbpW2Q72WIqiJ8bKDzIgT_C4PnYvMBuH0wC3B_KvpKmumm1FXhZj3jmRHw"},
  {name:"Gun Spin", url:"gunspin.html", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS-6RoV0Octq6Jgqg901ASvwAEl0z-nfNjh7oCXp07wvuO7lYDN:https://rocketgames.imgix.net/uploads/games/g/gunspin/gunspin.890e48.jpg"},
  {name:"Hole.io", url:"hole-io.html", img:"https://store-images.s-microsoft.com/image/apps.7301.14130340581880418.9c619941-0100-44a9-a3c9-a30a33f4dfb5.793ef2c0-4f01-4652-b472-79300b37dff7?q=90&w=177&h=177"},
  {name:"Hextris", url:"hextris.html", img:"https://play-lh.googleusercontent.com/nCzeX0WCpn8iLxQV9TgrWr6Xt4JZPT0nExE7iSC48KacKxtx_7c4dAYrlMYgTM_HtHg"},
  {name:"JavaScript Roulette", url:"js.html", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRRXd_syOZzkOzOzQafFGjlmWIECngoa1ENB9_abpCoPbgVxVM2bo0NSyWmLVkCjtCwXEE&usqp=CAU"},
  {name:"Little Alchemy 2", url:"la.html", img:"https://play-lh.googleusercontent.com/3Pr4gCB3uzsYyoFZZiDOuvq_7SeQPjUQnHiUrwug154RnTGJ_YAX5zvZfCH-4r2JKBOX"},
  {name:"Learn to Fly", url:"learntofly.html", img:"https://play-lh.googleusercontent.com/WYyWLDBs2bj-KtDBhg7jSqW34nYzyoFTvtKaYBTt2J6SAA05dqEZGI8s1h2LQQV3BHc"},
  {name:"MotoX3M", url:"motox3m.html", img:"https://img.poki-cdn.com/cdn-cgi/image/q=78,scq=50,width=314,height=314,fit=cover,f=auto/2c6d5a46cdbceada277c870ce1c389ee/moto-x3m.jpg"},
  {name:"Monkey Mart", url:"monkeymart.html", img:"https://play-lh.googleusercontent.com/rWReIdyvDaYJPeOxn7hbC0b-96ixGpQKM_EndiQa3SUME8TtI_rNUcI4qsw5teK9mqk"},
  {name:"Minecraft", url:"minecraft-menu.html", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTex_wtjsXI9BHHjySiqI0OIkr0r-9ITLPYTA&s"},
  {name:"OvO", url:"ovo.html", img:"https://play-lh.googleusercontent.com/v7KwGdPjJGjJjRXn46sck4DwDBdKSeRzGN44CjiXUtKV0jjOi51Bt4wcXud0m-SkXg"},
  {name:"Pacman", url:"pacman.html", img:"https://rasterweb.net/raster/wp-content/uploads/2024/03/ghosts-02.jpg"},
  {name:"Paper.io 2", url:"paper.io2.html", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS4qJVLuHb4EH8h7QU5C4k_Jb44aHgcxgTNKg&s"},
  {name:"Poly Track", url:"polytrack.html", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRepbLbXvGqJZA_eGUnd-U_nqXT0OxWAjavkZ8EWyNW_PA0eYo:https://cdn-1.webcatalog.io/catalog/poki-polytrack/poki-polytrack-icon-filled-256.png%3Fv%3D1727914012217&s"},
  {name:"Ragdoll Archers", url:"ragdollarchers.html", img:"https://play-lh.googleusercontent.com/XMiWEMPbuq13oVcwYQ6ySLtZnBf7WpJ3rb7v-TM4MdFOvWfo1Z2hzSEAApRXzEcshjY"},
  {name:"Ragdoll Hit", url:"ragdollhit.html", img:"https://img.poki-cdn.com/cdn-cgi/image/q=78,scq=50,width=314,height=314,fit=cover,f=auto/3c892779be9dabb3589586c83ad3eeed/ragdoll-hit.png"},
  {name:"Retro Bowl", url:"retrobowl.html", img:"https://drift-hunters.co/upload/imgs/retrobowl.jpg"},
  {name:"Retro Bowl College", url:"retrobowlcollege.html", img:"https://play-lh.googleusercontent.com/-BT8C-1UPYWouyjVvWYgaar_-xV4IQvX4Bvib3koGEGiy6UsHlt0RgYpUrdTDfC2y0ct"},
  {name:"Subway Surfers", url:"subwaysurfers.html", img:"https://img.poki-cdn.com/cdn-cgi/image/q=78,scq=50,width=1200,height=1200,fit=cover,f=png/919c9f04db0404cf69fddf9c01e31d91/subway-surfers.png"},
  {name:"Slope", url:"slope.html", img:"https://play-lh.googleusercontent.com/uJn2i9h7KxYQarC_c3K4qH6o7gLtflFnhD_dN14MNkzHJ1NeNFzCL69jpB5mT0vCoQs"},
  {name:"Stick Man Hook", url:"stickmanhook.html", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSKclUg-7v0l4KeCYELMzTrsaHvwJ1uubNfkw&s"},
  {name:"Snow Rider 3D", url:"snowrider3d.html", img:"https://childrenwithhairloss.org/wp-content/uploads/2025/03/snow-rider-3d-200x199.png"},
  {name:"SUPERHOT", url:"superhot.html", img:"https://yt3.googleusercontent.com/ytc/AIdro_lUAU1wbH8KiPz-Q2ppjtFEn_sGvxBE2sySkHo1ELm4PQ=s900-c-k-c0x00ffffff-no-rj"},
  {name:"We Become What We Behold", url:"wbwwb.html", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTv-7UyhFch4BXsiaZCOvfmRacKqIX-pDIGvw&s"},
  {name:"Whack Your Boss", url:"whackyourboss.html", img:"https://e.snmc.io/lk/lv/x/123e965239a426aa18c9348609293ced/11817567"},
  {name:"Wheelie Bike", url:"wheeliebike.html", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRc8giRTerjerQtYjy5u3crHHI5XFm9GYG1WA&s"},
  {name:"Yohoho.io", url:"yohoho-io.html", img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQubF63Qipw_s45n_3fqCpncogxSjPzVTK0nw&s"}
];

// LocalStorage helpers
function getFavorites(){ return JSON.parse(localStorage.getItem('favorites')||'[]'); }
function setFavorites(favs){ localStorage.setItem('favorites', JSON.stringify(favs)); }
function getRecents(){ return JSON.parse(localStorage.getItem('recents')||'[]'); }
function setRecents(rec){ localStorage.setItem('recents', JSON.stringify(rec)); }

// Generate game card
function createGameCard(g){
  const card = document.createElement('div'); card.className='game-card';
  card.innerHTML = `<a href="${g.url}"><img src="${g.img}" alt="${g.name}"><div class="game-overlay"><div class="name">${g.name}</div><div class="star">‚òÜ</div></div></a>`;
  // Favorite toggle
  const star = card.querySelector('.star');
  function updateStar(){ star.textContent = getFavorites().includes(g.name) ? '‚òÖ' : '‚òÜ'; }
  updateStar();
  star.addEventListener('click', e=>{
    e.preventDefault(); e.stopPropagation();
    let favs = getFavorites();
    if(favs.includes(g.name)){ favs = favs.filter(x=>x!==g.name); } else { favs.push(g.name); }
    setFavorites(favs); updateStar(); renderFavorites();
  });
  // Click game adds to recents
  const link = card.querySelector('a');
  link.addEventListener('click', ()=>{
    let rec = getRecents().filter(x=>x!==g.name);
    rec.unshift(g.name); if(rec.length>20) rec.pop();
    setRecents(rec); renderRecents();
  });
  return card;
}

// Generate main game grid
const gameGrid = document.getElementById('gameGrid');
games.forEach(g=> gameGrid.appendChild(createGameCard(g)));

// Render functions
const recentGamesDiv = document.getElementById('recentGames');
const favoriteGamesDiv = document.getElementById('favoriteGames');

function renderRecents(){
  recentGamesDiv.innerHTML='';
  getRecents().forEach(name=>{
    const g = games.find(x=>x.name===name); if(!g) return;
    recentGamesDiv.appendChild(createGameCard(g));
  });
}
function renderFavorites(){
  favoriteGamesDiv.innerHTML='';
  getFavorites().forEach(name=>{
    const g = games.find(x=>x.name===name); if(!g) return;
    favoriteGamesDiv.appendChild(createGameCard(g));
  });
}

// Simple search
const searchInput = document.getElementById('searchInput');
const searchResults = document.getElementById('searchResults');
searchInput.addEventListener('input',()=>{
  const query = searchInput.value.toLowerCase();
  searchResults.innerHTML='';
  games.filter(g=>g.name.toLowerCase().includes(query)).forEach(g=>{
    searchResults.appendChild(createGameCard(g));
  });
});

// Initial render
renderRecents();
renderFavorites();
</script>
</body>
</html>
